# Assignment SC

This repository contains the smart contracts and frontend for the Assignment SC project.

## Project Structure

- `contracts/`: Solidity smart contracts
- `front-end/`: Next.js frontend application
- `ignition/`: Hardhat Ignition deployment modules
- `scripts/`: Utility scripts (e.g., ABI copying)

## Setup Instructions

### Prerequisites

- Node.js (v18+ recommended)
- pnpm
- MetaMask or compatible wallet

### 1. Installation

Install dependencies for both the root project (contracts) and frontend:

```bash
# Root dependencies
pnpm install

# Frontend dependencies
cd front-end
pnpm install
```

### 2. Running Local Blockchain

Start a local Hardhat node:

```bash
pnpm node
```

### 3. Deploying Contracts

**Deploy to Localhost:**

In a new terminal window, deploy the contracts to your local node:

```bash
pnpm deploy:local
```

This will deploy `USD8Token`, `WETHToken`, and `SimpleLending` contracts. Note the deployed addresses from the output.

**Deploy to Sepolia Testnet:**

Ensure you have a `.env` file configured with `PRIVATE_KEY` and `SEPOLIA_RPC_URL` (see `.env.example`).

```bash
pnpm deploy:sepolia
```

### 4. Update Frontend ABIs

After deployment, copy the latest ABIs to the frontend:

```bash
pnpm update-front-end
```

### 5. Start Frontend

Navigate to the frontend directory and start the development server:

```bash
cd front-end
pnpm dev
```

Open [http://localhost:3000](http://localhost:3000) in your browser.

## Contract Addresses

### Localhost (Chain ID: 31337)

These are the default addresses from the latest local deployment:

- **USD8Token**: `0x5FbDB2315678afecb367f032d93F642f64180aa3`
- **WETHToken**: `0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512`
- **SimpleLending**: `0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0`

### Sepolia Testnet

*Run `pnpm deploy:sepolia` to deploy and generate new addresses.*

## Assumptions & Technical Decisions

1.  **Monorepo-like Structure**: The project houses both smart contracts (root) and frontend (`front-end`) in a single repository for easier coordination during development.
2.  **Hardhat Ignition**: Used for declarative deployment management, allowing for reproducible deployments across local and testnet environments.
3.  **Frontend ABI Sync**: A custom script (`scripts/copy-abis.ts`) is used to bridge the artifacts generated by Hardhat to the frontend application, ensuring type safety and ABI freshness.
4.  **Local Development First**: The setup prioritizes a smooth local development loop using Hardhat Node and localhost deployment.
5.  **Testnet Configuration**: Sepolia is the chosen testnet, expecting environment variables for configuration (`PRIVATE_KEY`, etc.).
6.  **Mock Tokens**: `USD8Token` and `WETHToken` are deployed as mock ERC20 tokens to facilitate lending protocol testing without relying on external faucets.
